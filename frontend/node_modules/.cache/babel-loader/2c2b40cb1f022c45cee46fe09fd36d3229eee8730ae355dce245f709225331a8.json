{"ast":null,"code":"var _jsxFileName = \"/workspaces/codespaces-blank/frontend/src/components/Canvas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 600;\nconst TOOLS = {\n  PEN: 'pen',\n  LINE: 'line',\n  RECT: 'rect',\n  CIRCLE: 'circle',\n  TEXT: 'text',\n  SELECT: 'select'\n};\nfunction drawLine(ctx, x0, y0, x1, y1, color = '#000', width = 2) {\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.lineCap = 'round';\n  ctx.beginPath();\n  ctx.moveTo(x0, y0);\n  ctx.lineTo(x1, y1);\n  ctx.stroke();\n  ctx.restore();\n}\nfunction drawRect(ctx, x0, y0, x1, y1, color = '#000', width = 2) {\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.strokeRect(x0, y0, x1 - x0, y1 - y0);\n  ctx.restore();\n}\nfunction drawCircle(ctx, cx, cy, r, color = '#000', width = 2) {\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.beginPath();\n  ctx.arc(cx, cy, r, 0, 2 * Math.PI);\n  ctx.stroke();\n  ctx.restore();\n}\nconst Canvas = ({\n  activeTool = 'pen',\n  diagramId\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [drawing, setDrawing] = useState(false);\n  const [start, setStart] = useState(null);\n  const [history, setHistory] = useState([]);\n  const [currentStroke, setCurrentStroke] = useState([]);\n  const [color, setColor] = useState('#000000');\n  const [lineWidth, setLineWidth] = useState(2);\n  const redraw = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Draw white background\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Draw all elements\n    history.forEach(item => {\n      if (item.tool === TOOLS.PEN) {\n        for (let i = 1; i < item.points.length; i++) {\n          drawLine(ctx, item.points[i - 1].x, item.points[i - 1].y, item.points[i].x, item.points[i].y, item.color, item.width);\n        }\n      } else if (item.tool === TOOLS.LINE) {\n        const [p0, p1] = item.points;\n        drawLine(ctx, p0.x, p0.y, p1.x, p1.y, item.color, item.width);\n      } else if (item.tool === TOOLS.RECT) {\n        const [p0, p1] = item.points;\n        drawRect(ctx, p0.x, p0.y, p1.x, p1.y, item.color, item.width);\n      } else if (item.tool === TOOLS.CIRCLE) {\n        if (item.center && item.radius) {\n          drawCircle(ctx, item.center.x, item.center.y, item.radius, item.color, item.width);\n        }\n      }\n    });\n  }, [history]);\n  useEffect(() => {\n    redraw();\n  }, [redraw]);\n  const getMousePos = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    return {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    };\n  };\n  const handlePointerDown = e => {\n    const {\n      x,\n      y\n    } = getMousePos(e);\n    setDrawing(true);\n    setStart({\n      x,\n      y\n    });\n    if (activeTool === TOOLS.PEN) {\n      setCurrentStroke([{\n        x,\n        y\n      }]);\n    }\n  };\n  const handlePointerMove = e => {\n    if (!drawing) return;\n    const {\n      x,\n      y\n    } = getMousePos(e);\n    if (activeTool === TOOLS.PEN) {\n      setCurrentStroke(prev => [...prev, {\n        x,\n        y\n      }]);\n      const ctx = canvasRef.current.getContext('2d');\n      if (currentStroke.length > 0) {\n        const lastPoint = currentStroke[currentStroke.length - 1];\n        drawLine(ctx, lastPoint.x, lastPoint.y, x, y, color, lineWidth);\n      }\n    } else {\n      // Preview shape\n      redraw();\n      const ctx = canvasRef.current.getContext('2d');\n      if (activeTool === TOOLS.LINE && start) {\n        drawLine(ctx, start.x, start.y, x, y, color, lineWidth);\n      } else if (activeTool === TOOLS.RECT && start) {\n        drawRect(ctx, start.x, start.y, x, y, color, lineWidth);\n      } else if (activeTool === TOOLS.CIRCLE && start) {\n        const radius = Math.hypot(x - start.x, y - start.y);\n        drawCircle(ctx, start.x, start.y, radius, color, lineWidth);\n      }\n    }\n  };\n  const handlePointerUp = e => {\n    if (!drawing) return;\n    setDrawing(false);\n    const {\n      x,\n      y\n    } = getMousePos(e);\n    let element = null;\n    if (activeTool === TOOLS.PEN) {\n      element = {\n        tool: TOOLS.PEN,\n        points: [...currentStroke, {\n          x,\n          y\n        }],\n        color,\n        width: lineWidth\n      };\n      setCurrentStroke([]);\n    } else if (activeTool === TOOLS.LINE) {\n      element = {\n        tool: TOOLS.LINE,\n        points: [start, {\n          x,\n          y\n        }],\n        color,\n        width: lineWidth\n      };\n    } else if (activeTool === TOOLS.RECT) {\n      element = {\n        tool: TOOLS.RECT,\n        points: [start, {\n          x,\n          y\n        }],\n        color,\n        width: lineWidth\n      };\n    } else if (activeTool === TOOLS.CIRCLE) {\n      const radius = Math.hypot(x - start.x, y - start.y);\n      element = {\n        tool: TOOLS.CIRCLE,\n        center: start,\n        radius,\n        color,\n        width: lineWidth\n      };\n    }\n    if (element) {\n      setHistory(prev => [...prev, element]);\n    }\n    setStart(null);\n  };\n  const handleUndo = () => {\n    setHistory(prev => prev.slice(0, -1));\n  };\n  const handleClear = () => {\n    setHistory([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-full bg-gray-100 rounded-lg p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex gap-4 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"color\",\n        value: color,\n        onChange: e => setColor(e.target.value),\n        className: \"w-10 h-10 border-none rounded cursor-pointer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        min: \"1\",\n        max: \"20\",\n        value: lineWidth,\n        onChange: e => setLineWidth(Number(e.target.value)),\n        className: \"w-20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUndo,\n        disabled: history.length === 0,\n        className: \"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:opacity-50\",\n        children: \"Undo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClear,\n        className: \"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\",\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: CANVAS_WIDTH,\n      height: CANVAS_HEIGHT,\n      className: \"border border-gray-300 bg-white cursor-crosshair\",\n      onPointerDown: handlePointerDown,\n      onPointerMove: handlePointerMove,\n      onPointerUp: handlePointerUp,\n      onPointerLeave: handlePointerUp\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"dM8DUL+9lRJmMmTfPMYiamistcM=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useCallback","api","jsxDEV","_jsxDEV","CANVAS_WIDTH","CANVAS_HEIGHT","TOOLS","PEN","LINE","RECT","CIRCLE","TEXT","SELECT","drawLine","ctx","x0","y0","x1","y1","color","width","save","strokeStyle","lineWidth","lineCap","beginPath","moveTo","lineTo","stroke","restore","drawRect","strokeRect","drawCircle","cx","cy","r","arc","Math","PI","Canvas","activeTool","diagramId","_s","canvasRef","drawing","setDrawing","start","setStart","history","setHistory","currentStroke","setCurrentStroke","setColor","setLineWidth","redraw","canvas","current","getContext","clearRect","fillStyle","fillRect","forEach","item","tool","i","points","length","x","y","p0","p1","center","radius","getMousePos","e","rect","getBoundingClientRect","clientX","left","clientY","top","handlePointerDown","handlePointerMove","prev","lastPoint","hypot","handlePointerUp","element","handleUndo","slice","handleClear","className","children","type","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","min","max","Number","onClick","disabled","ref","height","onPointerDown","onPointerMove","onPointerUp","onPointerLeave","_c","$RefreshReg$"],"sources":["/workspaces/codespaces-blank/frontend/src/components/Canvas.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport api from '../api';\n\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 600;\n\nconst TOOLS = {\n  PEN: 'pen',\n  LINE: 'line',\n  RECT: 'rect',\n  CIRCLE: 'circle',\n  TEXT: 'text',\n  SELECT: 'select'\n};\n\nfunction drawLine(ctx, x0, y0, x1, y1, color = '#000', width = 2) {\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.lineCap = 'round';\n  ctx.beginPath();\n  ctx.moveTo(x0, y0);\n  ctx.lineTo(x1, y1);\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction drawRect(ctx, x0, y0, x1, y1, color = '#000', width = 2) {\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.strokeRect(x0, y0, x1 - x0, y1 - y0);\n  ctx.restore();\n}\n\nfunction drawCircle(ctx, cx, cy, r, color = '#000', width = 2) {\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.beginPath();\n  ctx.arc(cx, cy, r, 0, 2 * Math.PI);\n  ctx.stroke();\n  ctx.restore();\n}\n\nconst Canvas = ({ activeTool = 'pen', diagramId }) => {\n  const canvasRef = useRef(null);\n  const [drawing, setDrawing] = useState(false);\n  const [start, setStart] = useState(null);\n  const [history, setHistory] = useState([]);\n  const [currentStroke, setCurrentStroke] = useState([]);\n  const [color, setColor] = useState('#000000');\n  const [lineWidth, setLineWidth] = useState(2);\n\n  const redraw = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    \n    // Draw white background\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    \n    // Draw all elements\n    history.forEach((item) => {\n      if (item.tool === TOOLS.PEN) {\n        for (let i = 1; i < item.points.length; i++) {\n          drawLine(ctx, \n            item.points[i-1].x, item.points[i-1].y,\n            item.points[i].x, item.points[i].y,\n            item.color, item.width\n          );\n        }\n      } else if (item.tool === TOOLS.LINE) {\n        const [p0, p1] = item.points;\n        drawLine(ctx, p0.x, p0.y, p1.x, p1.y, item.color, item.width);\n      } else if (item.tool === TOOLS.RECT) {\n        const [p0, p1] = item.points;\n        drawRect(ctx, p0.x, p0.y, p1.x, p1.y, item.color, item.width);\n      } else if (item.tool === TOOLS.CIRCLE) {\n        if (item.center && item.radius) {\n          drawCircle(ctx, item.center.x, item.center.y, item.radius, item.color, item.width);\n        }\n      }\n    });\n  }, [history]);\n\n  useEffect(() => {\n    redraw();\n  }, [redraw]);\n\n  const getMousePos = (e) => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    return {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    };\n  };\n\n  const handlePointerDown = (e) => {\n    const { x, y } = getMousePos(e);\n    setDrawing(true);\n    setStart({ x, y });\n    \n    if (activeTool === TOOLS.PEN) {\n      setCurrentStroke([{ x, y }]);\n    }\n  };\n\n  const handlePointerMove = (e) => {\n    if (!drawing) return;\n    \n    const { x, y } = getMousePos(e);\n    \n    if (activeTool === TOOLS.PEN) {\n      setCurrentStroke(prev => [...prev, { x, y }]);\n      const ctx = canvasRef.current.getContext('2d');\n      if (currentStroke.length > 0) {\n        const lastPoint = currentStroke[currentStroke.length - 1];\n        drawLine(ctx, lastPoint.x, lastPoint.y, x, y, color, lineWidth);\n      }\n    } else {\n      // Preview shape\n      redraw();\n      const ctx = canvasRef.current.getContext('2d');\n      \n      if (activeTool === TOOLS.LINE && start) {\n        drawLine(ctx, start.x, start.y, x, y, color, lineWidth);\n      } else if (activeTool === TOOLS.RECT && start) {\n        drawRect(ctx, start.x, start.y, x, y, color, lineWidth);\n      } else if (activeTool === TOOLS.CIRCLE && start) {\n        const radius = Math.hypot(x - start.x, y - start.y);\n        drawCircle(ctx, start.x, start.y, radius, color, lineWidth);\n      }\n    }\n  };\n\n  const handlePointerUp = (e) => {\n    if (!drawing) return;\n    setDrawing(false);\n    \n    const { x, y } = getMousePos(e);\n    let element = null;\n    \n    if (activeTool === TOOLS.PEN) {\n      element = {\n        tool: TOOLS.PEN,\n        points: [...currentStroke, { x, y }],\n        color,\n        width: lineWidth\n      };\n      setCurrentStroke([]);\n    } else if (activeTool === TOOLS.LINE) {\n      element = {\n        tool: TOOLS.LINE,\n        points: [start, { x, y }],\n        color,\n        width: lineWidth\n      };\n    } else if (activeTool === TOOLS.RECT) {\n      element = {\n        tool: TOOLS.RECT,\n        points: [start, { x, y }],\n        color,\n        width: lineWidth\n      };\n    } else if (activeTool === TOOLS.CIRCLE) {\n      const radius = Math.hypot(x - start.x, y - start.y);\n      element = {\n        tool: TOOLS.CIRCLE,\n        center: start,\n        radius,\n        color,\n        width: lineWidth\n      };\n    }\n    \n    if (element) {\n      setHistory(prev => [...prev, element]);\n    }\n    \n    setStart(null);\n  };\n\n  const handleUndo = () => {\n    setHistory(prev => prev.slice(0, -1));\n  };\n\n  const handleClear = () => {\n    setHistory([]);\n  };\n\n  return (\n    <div className=\"w-full h-full bg-gray-100 rounded-lg p-4\">\n      <div className=\"mb-4 flex gap-4 items-center\">\n        <input\n          type=\"color\"\n          value={color}\n          onChange={(e) => setColor(e.target.value)}\n          className=\"w-10 h-10 border-none rounded cursor-pointer\"\n        />\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"20\"\n          value={lineWidth}\n          onChange={(e) => setLineWidth(Number(e.target.value))}\n          className=\"w-20\"\n        />\n        <button\n          onClick={handleUndo}\n          disabled={history.length === 0}\n          className=\"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:opacity-50\"\n        >\n          Undo\n        </button>\n        <button\n          onClick={handleClear}\n          className=\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\"\n        >\n          Clear\n        </button>\n      </div>\n      \n      <canvas\n        ref={canvasRef}\n        width={CANVAS_WIDTH}\n        height={CANVAS_HEIGHT}\n        className=\"border border-gray-300 bg-white cursor-crosshair\"\n        onPointerDown={handlePointerDown}\n        onPointerMove={handlePointerMove}\n        onPointerUp={handlePointerUp}\n        onPointerLeave={handlePointerUp}\n      />\n    </div>\n  );\n};\n\nexport default Canvas;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}